<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Encapsulation Concept </title>
</head>

<body>
    <h3>Encapsulation using classes and closure method</h3>

    <script>

        // Class operarion
        class BankAccount {
            #balance;//private field 

            constructor(owner, initialBalance) {
                this.owner = owner;
                this.#balance = initialBalance;
            }

            // getter
            getBalance() {
                return `current balance : ${this.#balance}`;
            }

            //setter 
            deposit(amount) {
                if (amount > 0) {
                    this.#balance += amount;
                    console.log(`Deposited: ${amount}`);
                }
                else {
                    console.log("Invalid deposit amount");
                }
            }
            withdraw(amount) {
                if (amount > 0 && amount <= this.#balance) {
                    this.#balance -= amount;
                    console.log(`withdraw amount ${amount}`);
                }
                else {
                    console.log("Insufficient funds or invalid amount");
                }
            }
        }
        let acc = new BankAccount("Deekshith", 10000);
        console.log(acc.getBalance());
        acc.deposit(1000);
        console.log(acc.getBalance());
        acc.withdraw(1000);
        console.log(acc.getBalance());

        // Closure 

        function createAccount(owner, initialBalance) {
            let balance = initialBalance; // private value

            return {
                getOwner: () => owner,
                getBalance: () => balance,
                deposit: amount => {
                    if (amount > 0) balance += amount;
                },
                withdraw: amount => {
                    if (amount > 0 && amount <= balance) balance -= amount;
                }
            }
        }
        const account = createAccount("Shreerama", 30000);
        console.log(account.getBalance());
        console.log(account.getOwner());
        account.deposit(40800);
        console.log(account.getBalance());
        account.withdraw(9000);
        console.log(account.getBalance());
    </script>
</body>

</html>